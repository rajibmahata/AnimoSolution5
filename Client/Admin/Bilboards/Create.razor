@page "/admin/bilboards/create" 
@using Model.Shared.Entities
@inject IRepository repo
@inject NavigationManager nm
@inject IMostrarMensajes mostrarMensajes 




<div id="headerSection">
    <div class="grid50l-- vtop">
        <h5>Bilboard add</h5>
        <hr class="hr4" />
        <div class="hh-40 vtop">
            <p class="p12 colorDarkGrey">Add Bilboard here - Remember to Active / Deactive them as per your need</p>
        </div>
    </div>

    <div class="grid50r-- vtop">
        <h5>Options</h5>
        <hr class="hr4inverted" />
        <div class="hh-40 vtop">
            <GoBack></GoBack>         
        </div>
    </div>
</div>

<div class="mt-25 grid100l--">

        <BilboardForm bilboards="bilboards" OnValidSubmit="HandleCreate" />

</div>



@code {

    private Bilboard bilboards = new Bilboard(); 

    
    private async Task HandleCreate()
    {

        var httpResponse = await repo.Post("api/bilboards", bilboards);
        if (httpResponse.Error)
        {            
            await mostrarMensajes.MostrarMensajeError(await httpResponse.GetBody());

        } else
        {
            nm.NavigateTo("/admin/bilboards");
        }
    }

}
